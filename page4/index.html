<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Daniel Bachler</title>
  <meta name="description" content="The personal website of Daniel Bachler - Software Engineer and Photographer
">

  <script src="https://kit.fontawesome.com/98871ddfec.js" crossorigin="anonymous"></script>

  <!-- Load up MathJax script if needed ... specify in /_data/options.yml file-->
  
    <script type="text/javascript" src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
  

  <link rel="stylesheet" href="https://use.typekit.net/hil6otl.css">
  <link rel="stylesheet" type="text/css" href="/css/tufte.css">

  <!-- <link rel="stylesheet" href="/css/main.css"> -->
  <link rel="canonical" href="http://danielbachler.de/page4/">
  <link rel="alternate" type="application/rss+xml" title="Daniel Bachler" href="http://danielbachler.de/feed.xml">
    <script>
        (function(d) {
            var config = {
                        kitId: 'hil6otl',
                        scriptTimeout: 3000,
                        async: true
                    },
                    h=d.documentElement,t=setTimeout(function(){h.className=h.className.replace(/\bwf-loading\b/g,"")+" wf-inactive";},config.scriptTimeout),tk=d.createElement("script"),f=false,s=d.getElementsByTagName("script")[0],a;h.className+=" wf-loading";tk.src='https://use.typekit.net/'+config.kitId+'.js';tk.async=true;tk.onload=tk.onreadystatechange=function(){a=this.readyState;if(f||a&&a!="complete"&&a!="loaded")return;f=true;clearTimeout(t);try{Typekit.load(config)}catch(e){}};s.parentNode.insertBefore(tk,s)
        })(document);
    </script>
  <script src="/js/modernizr-custom.js"></script>

</head>


<body>

<header class="site-header">


  <nav class="site-nav site-header">
    <div class="nav-inner">
      <a class="site-title" href="/">DANIELBACHLER.DE</a>
      <!--
      <a href="#" class="menu-icon">
        <svg viewBox="0 0 18 15">
          <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
          <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
          <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
        </svg>
      </a>
      -->
      <div class="trigger">
        <a class="page-link" href="/">Blog</a>
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
          <a class="page-link" href="/cv.html">CV</a>
          
        
          
          <a class="page-link" href="/about.html">About me</a>
          
        
      </div>
    </div>
    </nav>

</header>


<article class="group">
  <div class="home">

    <!-- This loops through the paginated posts -->
    
    <article>
        <h1><a href="/2011/12/11/incremental-backups-made-easy.html">Incremental backups made easy</a></h1>
        <p class="author">
          <span class="date">11 December 2011</span>
        </p>
        <div class="content">
          <p>In my <a href="/node/121">last post</a> I wrote in length about backups but I omitted one thing: how to make incremental backups that use so called hard links and that barely take more space than 1:1 backups (on both windows and osx). First though, let me explain what is so nice about this concept.</p>

<h3 id="backups-with-a-history">Backups with a history</h3>

<p>If space were no concern, it would be nice never to throw backups away. We would simply have folders that contain the date and time the backup was taken as part of the backup target folder name and keep all those backups. Then if one day we discover that we now need a file that was deleted two weeks ago we would simply access the backup from 16 days ago and restore it. If, like me, you have several TB of important data and can barely afford 2 additional sets of hard drives (one to keep as a daily backup, one that is stored at another location and that is swapped regularly) then this seems to be impossible.</p>

<h3 id="incremental-backups">Incremental backups</h3>

<p>If you look at your whole hard drive(s) then you will notice that between two backups only a fraction of the data actually changes. This is what incremental backups use to their advantage. They only store the new and changed files and thus save a lot of space. However now you have a full backup at one point in time and every time you run the backup again you get a new folder structure (or, if you choose a bad backup software, a proprietary single file) containing only the new and changed files. This is a bit cumbersome. Wouldn't it be great to have a full snapshot each time?</p>

<h3 id="hardlinks-to-the-rescue">Hardlinks to the rescue!</h3>

<p>This is where a feature called Hardlinks comes in handy. Hardlinks are a way for file systems to reference the same file several times, but only storing it once. Both NTFS (the main windows file system) and HFS+ (the main OSX files system) support hardlinks, but both operating systems hide this feature from the user interface.</p>

<h3 id="what-we-gain-from-this-approach">What we gain from this approach</h3>

<p>So taken together, these features enable incremental backups that look like full snapshots but only store the new and changed data. This way you only need a backup drive that is a bit bigger than your source (since you will want to have some additional space for the newly created and modified files) and you can keep a full history on it.</p>

<h3 id="rsync-and-two-guis-for-it">rsync and two GUIs for it</h3>

<p>rsync is an open source application that is used to copy data. Since version 3 or so it supports creating snapshot copies using hardlinks. On OSX the tool <a href="http://rdutoit.home.comcast.net/~rdutoit/pub/robsoft/pages/softw.html">backuplist+</a> allows you to easily create incremental backups by checking the &quot;Incremental backups&quot; check box and entering how many past snapshots to keep. On windows <a href="http://qtdtools.doering-thomas.de/">QtdSync</a> allows you to do the same thing if you change the backup type from &quot;synchronisation&quot; to &quot;incremental&quot;.</p>


        </div>
    </article>
    
    <article>
        <h1><a href="/2011/11/30/backups.html">Backups</a></h1>
        <p class="author">
          <span class="date">30 November 2011</span>
        </p>
        <div class="content">
          <p>I always thought that one of the great things about digital technology is the ability to have backups - physical items can break but with digital data there is no reason why you should ever loose it, because creating exact copies of it is easily possible. And yet few people I know have a convincing backup strategy. Since I will hold a lecture at the filmArche filmschool next week on Workflow with digital files and Backups I thought this would be a good time to write the most important points about it down.</p>

<h1 id="your-hard-drives-will-fail">Your hard drives will fail</h1>

<p>The question is not whether your hard drive will fail, but when. Not to have a backup of your important data is negligent and easily avoided. So I think it's well worth thinking a bit about it. If reading the title of this blog post made you feel a little guilty because you do not have a backup of your important data, read on. I promise to explain things in simple terms and walk you through some common backup scenarios for individuals or small groups of people.</p>

<p>Oh and one little disclaimer: thinking about backups can be a lot more complex that what I present here. This is just the bare minimum any normal person should know about backups in this digital age :)</p>

<h2 id="what-is-a-backup">What is a backup?</h2>

<p>Let's start with a simple thought - what is a backup? It's an complete, independent copy of your data that does not share a single point of failure with the original copy. What's a single point of failure? Anything that can go wrong, that will destroy both copies at once. For example, if you have a backup on the same hard drive as the original file then this hard drive is a single point of failure. If it dies, then both your backup and the original data are gone.</p>

<p>This single point of failure thing is the key. I worked on a video shoot once where they shot with a camera that records to flash cards. The content of the flash cards was copied onto a hard drive and then to another backup hard drive before the contents of a flash card could be deleted and reused. So far so good. But then at the end of the first day the guy who did the data wrangling packed both hard drives into the same backpack and put it with the rest of the equipment for someone else to transport it to the next location. It didn't occur to him that if that backpack would fall down or get lost, both copies would be affected - it was the single point of failure.</p>

<h2 id="what-to-back-up">What to back up?</h2>

<p>Ideally you would just backup everything and be done with it. But some things are trickier to backup than others. Let's start with the obvious thing: all your &quot;User&quot; data should be backed up, i.e. your photos, the texts you write, the (&quot;project&quot;) files of the applications you work with (spreadsheet software, video editing software, databases etc). This is the stuff that you really should not loose. I work as a photographer and so all photos I take fall clearly into that category, as do all the business related files like my accounting softwares files etc..</p>

<p>The nice thing about this category of &quot;user data&quot; is that you usually work with it on a regulary basis and thus know where it is. Ideally you do what I do and put all that stuff on it's own hard drive(s), away from the main operating system hard drive. This makes it easy to identify what is the most important stuff to backup (this one hard drive).</p>

<p>The second class of data is stuff that the software you use saves but that you do not directly interact with. Preferences for example. I work with software like Adobe Lightroom or Microsoft Visual Studio, both of which are very complex pieces of software that have a ton of user settings and user generated presets. If you were to loose these, it would probably not be the end of the world, but it would suck. The nice thing about this group of data is that it usually is rather small.</p>

<p>The third group of data is stuff like your operating system or the installed applications. Now while it would be nice if you could just copy all this stuff onto it's own disk and if the main hard drive fails restore it to a new disk and be done with it, this usually doesn't work. Operating systems need a boot loader and need to have certain data at certain sectors on the disc, stuff like that. So you need disc imaging software to backup this class of data which is why I do not bother to back it up. If the main system drive fails, it will take me a day or so to install the OS and the rest of the software again from the orignal DVDs, but that is ok. Your milage may vary though - if you simply can't afford a day of downtime it may make sense to create a scheme were you can back this kind of data up as well or have a second computer ready as a standby machine so you can switch quickly.</p>

<h2 id="what-kind-of-backup-to-do">What kind of backup to do?</h2>

<p>Most of the data we produce is not static - text files change, photos are edited, new files created all the time. So a backup needs to be done regularly. And with this comes an important decision: Do you need just one copy of your data or is it important to be able to go back to the way things looked some time ago? If all you need is an up to date copy, then it may be enough to just run a program that can mirror all the changes that happend onto your one backup. This is called a 1:1 backup. But if you need to be able to have a history of your data things become more difficult.</p>

<p>When you need past versions of your data, one approach is to buy X discs and use them in turn. So if you have 7 backup drives and you create 1:1 backups to one of them every day than you can go back in daily increments up to one week into the past. But this is expensive. So there is some software that let's you do this in clever ways and only store the data from the last backup. Because, you know, usually only a few files change between two backups.</p>

<p>There are a lot of different ways to these so called incremental backups. The easiest on the mac is Time Machine - on PC it's a bit difficult (<a href="http://www.genie9.com/business/genie_timeline_pro/overview.aspx">Genie Timeline</a> does something similiar). For smaller amounts of data, online services like <a href="http://db.tt/EtotgoT">dropbox</a> usually provide some sort of history (although you have to trust that service provider to take good care of your data). But even time machine and genie timeline don't work well if you need to manage several disks, which is a common case today.</p>

<p>I have recenlty discovered that the powerful command line tool rsync now has the ability to create incremental backups with hard links, much like Time Machine does. I will write up my findings in another blog post.</p>

<h2 id="a-good-solution-for-the-real-world">A good solution for the real world</h2>

<p>If all the data you care about are a few hundred MB and you usually have internet access, then a service like dropbox does all a normal user needs. But nowadays, even my grandparents have a few dozen GB of photos etc, and I have around 5 TB of important data that I need to keep safe. So I will now describe the setup I use and that I think is pretty safe and not overly complicated.</p>

<h3 id="step-1-data-organization">Step 1: data organization</h3>

<p>It's important to know where your important data is. So I have a policy not to use the usual &quot;My documents&quot; folder or the &quot;Documents&quot; folder on my OS harddrive but instead put all the important data on dedicated data disks. Let's call the two data disks A and B. All your important data should be on these two disks. If the main OS drive dies, your main data should survive, even without the backups.</p>

<h3 id="step-2-get-two-more-hard-drives-for-each-data-hard-drive">Step 2: get two more hard drives for each data hard drive</h3>

<p>Why two you may think? Two reasons: First, while your backup drive is attached to your computer, your computer is a single point of failure. If you have a really nasty virus that wipes all your attached hard drives (or worse, encrypts them and extorts you with the password :) ) and you only have one backup then that's it. You had no backup because your two copies had a single point of failure. The second reason is that you should keep one of your two backup drives at another location. At a friend, your office, your lover, doesn't matter. Just pick a secure place and store it there and exchange the two disks every now and then (maybe every week or so). This way, even if you get robbed or your house burns down, the data will still exist somewhere. It will be a couple of days, maybe (if you're lazy) a few weeks old, but at least most of it will still exist. (Hint: if you do not encrypt your backup drives then you will want to store it with people you fully trust :) )</p>

<h3 id="step-3-create-your-first-backup">Step 3: Create your first backup</h3>

<p>Because time machine and similar tools usually do not work with more than one hard drive, I recommend using simple 1:1 backups instead (or use a clever rsync strategy which I will desribe in another blog post soon). With todays huge disks, even a 1:1 backup that overwrites everything takes quite long, so I recommend to use rsnyc on linux or mac or robocopy on windows to create efficient 1:1 copies that only copy what has changed. This way I can backup 3 TB of data every night within 1-3 hours.</p>

<p>Rsync and robocopy come preinstalled with mac os x and windows respectively and both have gui frontends available for those who do not enjoy working on the command line (e.g. <a href="http://arrsync.sourceforge.net/">arrsync</a> and <a href="http://yarcgui.wilkes.es/">yarcgui</a>). Rsync defaults to creating a 1:1 backup with the -a option, robocopy useses /MIR for the same result.</p>

<p>With the gui frontends it is pretty simple to set up one copy job per hard drive (just tell it from where to where it should copy the data).</p>

<p>Once you finished setting up rsync or robocopy to copy the data disks to the backup drives, let it run once and check if everything worked (this first run will take a few hours per TB, possibly longer if you use a slow USB2 or Firewire connection). Subsequent runs should be much faster.</p>

<h3 id="step-4-setup-dropbox-or-similar-for-your-most-important-smallish-files">Step 4: Setup dropbox or similar for your most important, smallish files</h3>

<p>The most important files we have are often pretty small. Many may be text files. Many will change frequently. For this kind of data it is reasonable to use dropbox and so I advise you to use dropbox in addition to the setup described above for the kind of data that is rather small and that changes a lot and where earlier versions of the file may be useful in the future.</p>

<h3 id="step-5-setup-reminders-to-switch-backup-drives-test-backups">Step 5: Setup reminders to switch backup drives, test backups</h3>

<p>It's important to switch your two sets of backup drives regularly and to check if the backup works, so set up reminders in your calendar to do so. The best way to check if a backup works is to go to a different computer and try to open your files. If your files work with all their dependencies (linked media files in a video editing software e.g.) then you are safe. If not it's time to improve your setup.</p>

<h2 id="a-note-on-the-side-raid-is-not-a-backup">A note on the side: RAID is not a backup</h2>

<p>One last thing: some people have RAID setups configured for their data and think that they don't need any further backup. This is wrong. RAID is a system to protect you against hard drive failure by using redundant drives but of course the raid system itself and the computer it is attached to and the apartment that computer is located at are all single points of failure. RAID systems are nice but they are not a replacement for backups.</p>

<h2 id="final-thoughts">Final thoughts</h2>

<p>Whew, quite a post. This stuff may seem a bit complicated but it is the simplest version I found that keeps me safe and makes reasonable compromises for my personal use case. I could go into a lot of detail on the various thoughts on why I prefer uncompressed backups etc but I think this will do for now. If you found this post useful, if you have questions or if you spotted an error, please let me know in the comments below!</p>

        </div>
    </article>
    
    <article>
        <h1><a href="/2011/07/16/920-milligray-website-finished.html">920 Milligray website finished</a></h1>
        <p class="author">
          <span class="date">16 July 2011</span>
        </p>
        <div class="content">
          <p><a href="http://www.920milligray.com"><img width="780" height="134" src="/files/milligray-banner.jpg" alt="" /></a></p>

<p>I finally finished work on the website for the film I am currently working on, <a href="http://920milligray.com">920 Milligray</a>. The design was done by Marius Wawer and I built the html page and set up a <a href="http://www.drupal.org">drupal cms</a> for the future (it currently only serves the FAQ page).</p>

<p>920 Milligray is going to be a drama centred on Katja, a young girl who barely knew the world before the catastrophe, and her older brother Uwe. The film is set in a post apocalyptic Europe and is currently in development. BTW, we are actively looking for production companies to get on board so if you know someone who might be interested, please tell them about the project!</p>

<p>One short side note on the workflow I currently use to update my websites: a lot of people who work with websites still use ftp to push new html pages or themes for a CMS to their servers. I seriously recommend to do away with that concept and instead use a distributed version control system like <a href="http://mercurial.selenic.com/">Mercurial</a> or <a href="http://git-scm.com/">Git</a> for this purpose. This way you have full history locally as well as on the server(s), can maintain branches (Version 2.0 e.g.) and switch once everything is ready. Not to mention the advantage of easily being able to share work between people and merge changes from different people with ease.</p>

<p>Git is the system used for the Linux Kernel project among others and very powerful but a bit convoluted in daily use IMHO. I prefer Mercurial which is also powerful but quite a bit simpler to use.</p>

<p>The way I like to work is to have a local Mercurial Repository where I commit changes in small logical batches (command line: <span style="font-family: Courier New;">hg addremove</span> and <span style="font-family: Courier New;">hg commit</span>). Then I have a private repository at bitbucket.org where I have easy to use and secure https access (<span style="font-family: Courier New;">hg push</span> locally to push to the remote repository). Finally, on my webserver (with shell access) I have the repository that contains the content that is visible to the public (<span style="font-family: Courier New;">hg fetch</span> to get the up to date version from the bitbucket repository). This way whenever something goes wrong I can just go back in the history and fix things locally. I use a similar system for all software development I do as well and more and more with other stuff as well.</p>

<p>Our webserver is pretty heavily firewalled but at some point I want to implement https access to the webserver repository directly so I&nbsp;can push without the detour via bitbucket. With a simple post-push script it will then be possible to have an up-to-date version on the webserver with a simple local <span style="font-family: Courier New;">hg push</span>. Nice.</p>

<p>One last note: if you work on windows, <a href="http://tortoisehg.bitbucket.org/">tortoiseHG</a> is a very nice GUI for daily mercurial use.&nbsp;</p>

        </div>
    </article>
    
    <article>
        <h1><a href="/2011/05/17/colour-grading.html">Colour grading</a></h1>
        <p class="author">
          <span class="date">17 May 2011</span>
        </p>
        <div class="content">
          <p>I'm doing a little lecture tomorrow at filmArche on colour grading and thought that I&nbsp;could share a few links on the topic here.</p>

<p>To give a feeling for the use of colour in movies, I&nbsp;really like the <a href="http://moviebarcode.tumblr.com/">moviebarcodes</a>. The artists who does them wants to stay anonymous, so I can only link to his tumbl site. The image below is that site where you can also order prints (I&nbsp;personally find them beautiful). Wired uk described the process of making these images very well as: [<em>the software the artist wrote takes</em>] every single frame of the film (and its constituent colours), stretches them vertically and lines them up in chronological order to create an image that gives a visual overview of how the film would look if you saw it all in one go.</p>

<p class="rteright"><a href="http://moviebarcode.tumblr.com/"><img width="780" height="293" alt="" src="/files/tumblr_ll11ro1zzw1qhtovio1_1280.jpg" /></a><br />

<span style="font-size: small;"><a href="http://www.imdb.com/title/tt0405296/">A Scanner Darkly</a> as a Moviebarcode</span></p>

<p>Also very useful is <a href="http://prolost.com/">prolost</a>, the blog of Stu Maschwitz. He is a filmmaker with a vfx background and helped develop a number <a href="http://www.redgiantsoftware.com/products/all/magic-bullet-suite/">colour grading plugins</a> that can be used with several NLEs. Stu has a <a href="http://prolost.com/blog/2010/8/10/colorista-ii-tutorials.html">collection of colour grading tutorials</a> for one of these plugins, Colorista II, on his site. I will show Magic Bullet Looks at my little lecture as it incorporates most of the important tools for a more complex grade and is compatible with NLEs but also usable as a standalone tool to grade stills.</p>

<p>Grading stills in preproduction and finding reference stills from movies or other sources is a very important preproduction step in my opinion. I really like <a href="http://screenshotworld.blogspot.com/">screenshotworld</a> for browsing stills from a number of different movies.</p>

<p>As you may know, digital colour grading is a rather recent practice that took off only in the early 2000s with <a href="http://www.imdb.com/title/tt0190590/">O&nbsp;Brother Where Are Though</a> being credited as the first feature film to be fully digitally graded. Digital colour grading offered a whole array of more sophisticated and more targeted manipulation of colour, which is sometimes used to a very positive effect. However, as this blog post on the <a href="http://theabyssgazes.blogspot.com/2010/03/teal-and-orange-hollywood-please-stop.html">Teal and Orange plague</a> nicely illustrates, it has also led to an overuse of this very powerful colour contrast.</p>

<p>Human colour perception is very sophisticated (although some animals have <a href="http://en.wikipedia.org/wiki/Mantis_shrimp#Eyes">even weirder colour perception</a>)&nbsp;and colour grading therefore a very important and complicated subject. I'll write more on it some time soon, but for now I&nbsp;hope the links here are a nice read.</p>

        </div>
    </article>
    
    <article>
        <h1><a href="/photography/2011/05/14/new-series-of-posts-about-photography-artefacts-of-light.html">New series of posts about photography - Artefacts of Light</a></h1>
        <p class="author">
          <span class="date">14 May 2011</span>
        </p>
        <div class="content">
          <p><img width="780" height="259" alt="" src="/files/bokeh.jpg" /></p>

<p>I started writing a series of blog post with the title &quot;<a href="http://blog.iconoclash-photography.com/taxonomy/term/12">Artefacts of Light</a>&quot; at the <a href="http://blog.iconoclash-photography.com">Iconoclash Photography blog</a>. The series will cover different phenomena in photography and the first post is about Bokeh (the rendering of out of focus light sources, as seen above). Future posts will cover things like Film Grain, Back Light and Empty Space. I always appreciate feedback, so let me know what you think about it - thanks!</p>

        </div>
    </article>
    

    <!-- Pagination links -->
    <div class="pagination">
      
      <a href="/page3" class="previous"><i class="fas fa-arrow-left"></i></a>
      
      <span class="page_number ">Page: 4 of 18</span>
      
      <a href="/page5" class="next"><i class="fas fa-arrow-right"></i></a>
      
    </div>

</div>

</article>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-6822886-2', 'auto');
  ga('send', 'pageview');

</script>
</body>

</html>
