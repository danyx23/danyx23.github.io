---
layout: post
title: Script to automate drupal mulitisite instance setup
created: 1138369698
categories:
- coding
---
<p>I just finished a first version of a script to automate the somewhat tedious task of setting up a drupal instance. The script is work in progress so please be carefull. I am not very used to the python scripting language, so there may be some things that are awkward at least. Neither do I know about the internals of drupal, so it is quite likely that some of the things I do in this script are not optimal or maybe even dangerous from a security point of view. If you encounter errors or have suggestions on what to improve, please tell me so (either by adding a comment to this post or by <a href="/contact" title="Contact info">writing me directly</a>). The script is released under the <a href="http://www.gnu.org/copyleft/gpl.html" title="GPL">GPL V2 or later</a>.</p><p>Here is the description of the script as printed when called without arguments:<br /></p><p>&nbsp;</p><p>&nbsp;</p><blockquote>Usage: muybridge_install_drupal /path/to/webdir domain<br />This script will setup a shared drupal instance into<br />a directory of your choice. This directory should be one<br />that you just created, and contain nothing important.<br />The script will create a database, a database user and&nbsp; <br />the necessary files.<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; <br />WARNING: This script is work in progress. You may shoot yourself in the<br />foot with it. Please only use it when you understand what it does. &nbsp;&nbsp;&nbsp; <br />When an error occurs at some stage, changes made until that point are NOT reverted.</blockquote><p>&nbsp;</p><p>&nbsp;</p><p>Before you use the script, check the settings section in it and adapt it to your needs. The script has to be run as a user that has write access to the directory you want to install the shared instance into, as well as the sites dir of the shared drupal directory and /etc/cron.hourly/ . You will be asked for the mysql root password so that a new database and user can be created (adapting this to use another mysql user who has sufficient privileges would be trivial tough). Ok, I hope I remembered everything important - more info will be added to this post when found.<br /></p>
